---
interface Props {
  command?: string;
  class?: string;
}

const { command = "npm install -g oru-cli", class: className = "" } = Astro.props;
---

<div
  class:list={[
    "install-block inline-flex items-center gap-4 bg-bg-inset border border-border-default rounded-xl py-3.5 pl-5 pr-4 font-mono text-sm leading-none",
    className,
  ]}
>
  <code class="flex items-center gap-2.5">
    <span class="text-text-tertiary select-none">$</span>
    <span class="text-text-primary">{command}</span>
  </code>
  <button
    class="copy-btn flex items-center justify-center w-8 h-8 rounded-md text-text-tertiary transition-all duration-150 ease-out-expo shrink-0 cursor-pointer hover:text-text-secondary hover:bg-white/5"
    data-copy={command}
    aria-label="Copy install command"
    type="button"
  >
    <svg
      width="16"
      height="16"
      viewBox="0 0 24 24"
      fill="none"
      stroke="currentColor"
      stroke-width="2"
      stroke-linecap="round"
      stroke-linejoin="round"
    >
      <rect x="9" y="9" width="13" height="13" rx="2" ry="2"></rect>
      <path d="M5 15H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h9a2 2 0 0 1 2 2v1"
      ></path>
    </svg>
  </button>
</div>

<style>
  .copy-btn:global(.copied) {
    color: var(--color-accent);
  }
</style>
