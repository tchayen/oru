---
import Terminal from "./ui/Terminal.astro";
---

<section class="py-24 bg-bg-elevated">
  <div
    class="container grid grid-cols-[5fr_7fr] gap-16 items-start max-md:grid-cols-1 max-md:gap-12"
  >
    <div class="min-w-0">
      <div class="reveal">
        <p class="section-label">Local-first</p>
        <h2 class="mb-4">Your data never leaves your machine.</h2>
        <p class="body-lg text-text-secondary mb-4">
          oru stores everything in a single SQLite database at
          <code
            class="font-mono text-sm bg-bg-surface px-1.5 py-0.5 rounded text-accent"
            >~/.oru/oru.db</code
          >. No accounts. No cloud. No third-party servers between you and your
          tasks.
        </p>
        <p class="body text-text-tertiary">
          This is a deliberate architecture choice, not a limitation. Your task
          data is yours â€” readable, portable, queryable with any SQLite client.
        </p>
      </div>

      <div class="mt-12 reveal" data-delay="160">
        <h4 class="mb-2">No sign-up. No login. No tokens.</h4>
        <p class="body-sm text-text-tertiary mb-4">
          Install it. Use it. There is no onboarding flow, no email field, no
          OAuth redirect. The database is created on first run. That is the
          entire setup.
        </p>
        <Terminal title="getting started">
          <span class="line"><span class="prompt">$ </span><span class="cmd">npm</span> <span class="sub">install</span> <span class="flag">-g</span> <span class="val">oru-cli</span></span>
          <span class="line"><span class="prompt">$ </span><span class="cmd">oru</span> <span class="sub">add</span> <span class="str">"First task"</span></span>
          <span class="line"><span class="output">019414a5  </span><span class="cmd">First task</span></span>
          <span class="line"><span class="output">  Status: todo  Priority: medium</span></span>
        </Terminal>
        <p class="body-sm text-text-tertiary mt-3 italic">
          Two commands from install to first task.
        </p>
      </div>
    </div>

    <div
      class="flex justify-center items-center py-10 max-md:-order-1 reveal"
      data-delay="240"
    >
      <div class="flex flex-col items-center w-full max-w-[280px]">
        <div
          class="diagram-node flex flex-col items-center gap-1 py-6 px-8 bg-bg-surface border border-border-default rounded-xl w-full text-center transition-[border-color] duration-300 ease-out-expo hover:border-border-hover"
        >
          <div class="text-text-tertiary mb-1">
            <svg
              width="20"
              height="20"
              viewBox="0 0 24 24"
              fill="none"
              stroke="currentColor"
              stroke-width="2"
              stroke-linecap="round"
              stroke-linejoin="round"
            >
              <polyline points="4 17 10 11 4 5"></polyline>
              <line x1="12" y1="19" x2="20" y2="19"></line>
            </svg>
          </div>
          <span class="text-sm font-semibold text-text-primary">CLI</span>
          <span class="text-xs text-text-tertiary font-mono">oru commands</span>
        </div>
        <div class="flex justify-center h-8">
          <div class="w-px h-full bg-border-default"></div>
        </div>
        <div
          class="diagram-db flex flex-col items-center gap-1 py-6 px-8 bg-bg-surface border border-accent-border rounded-xl w-full text-center shadow-[0_0_32px_rgba(245,158,11,0.08)] animate-db-pulse transition-[border-color] duration-300 ease-out-expo hover:border-accent"
        >
          <div class="text-accent mb-1">
            <svg
              width="20"
              height="20"
              viewBox="0 0 24 24"
              fill="none"
              stroke="currentColor"
              stroke-width="2"
              stroke-linecap="round"
              stroke-linejoin="round"
            >
              <ellipse cx="12" cy="5" rx="9" ry="3"></ellipse>
              <path d="M21 12c0 1.66-4 3-9 3s-9-1.34-9-3"></path>
              <path d="M3 5v14c0 1.66 4 3 9 3s9-1.34 9-3V5"></path>
            </svg>
          </div>
          <span class="text-sm font-semibold text-text-primary">SQLite</span>
          <span class="text-xs text-text-tertiary font-mono">~/.oru/oru.db</span>
        </div>
        <div class="flex justify-center h-8">
          <div class="w-px h-full bg-border-default"></div>
        </div>
        <div
          class="diagram-node flex flex-col items-center gap-1 py-6 px-8 bg-bg-surface border border-border-default rounded-xl w-full text-center transition-[border-color] duration-300 ease-out-expo hover:border-border-hover"
        >
          <div class="text-text-tertiary mb-1">
            <svg
              width="20"
              height="20"
              viewBox="0 0 24 24"
              fill="none"
              stroke="currentColor"
              stroke-width="2"
              stroke-linecap="round"
              stroke-linejoin="round"
            >
              <rect x="2" y="2" width="20" height="8" rx="2" ry="2"></rect>
              <rect x="2" y="14" width="20" height="8" rx="2" ry="2"></rect>
              <line x1="6" y1="6" x2="6.01" y2="6"></line>
              <line x1="6" y1="18" x2="6.01" y2="18"></line>
            </svg>
          </div>
          <span class="text-sm font-semibold text-text-primary">oru server</span>
          <span class="text-xs text-text-tertiary font-mono">Local HTTP</span>
        </div>
        <div class="flex justify-center h-8">
          <div class="w-px h-full bg-border-default"></div>
        </div>
        <div
          class="diagram-node flex flex-col items-center gap-1 py-6 px-8 bg-bg-surface border border-border-default rounded-xl w-full text-center transition-[border-color] duration-300 ease-out-expo hover:border-border-hover"
        >
          <div class="text-text-tertiary mb-1">
            <svg
              width="20"
              height="20"
              viewBox="0 0 24 24"
              fill="none"
              stroke="currentColor"
              stroke-width="2"
              stroke-linecap="round"
              stroke-linejoin="round"
            >
              <rect x="5" y="2" width="14" height="20" rx="2" ry="2"></rect>
              <line x1="12" y1="18" x2="12.01" y2="18"></line>
            </svg>
          </div>
          <span class="text-sm font-semibold text-text-primary">iOS App</span>
          <span class="text-xs text-text-tertiary font-mono"
            >Native companion</span
          >
        </div>
      </div>
    </div>
  </div>
</section>

<style>
  @media (prefers-reduced-motion: reduce) {
    .diagram-db {
      animation: none;
    }
  }
</style>
